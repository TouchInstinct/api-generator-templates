import LeadKit
import RxSwift

{% set serviceName = concat(networkServiceName, "NetworkService") -%}
class {{ serviceName }}: NetworkService, ConfigurableNetworkService {

    class var baseUrl: String {
        return "{{ apiUrl }}"
    }

    convenience init() {
        self.init(sessionManager: {{ serviceName }}.sessionManager)
    }

    func apiRequest<T: ImmutableMappable>(with parameters: ApiRequestParameters) -> Single<T> {
        return rxRequest(with: parameters).map { $0.model }.asSingle()
    }

}
{{ "\n" }}