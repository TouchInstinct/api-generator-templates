{%- import 'utils.twig' as utils -%}

{%- set className = utils.formatClassType(type.baseTypeName, type.typeParameters) -%}
{%- set parentClassName = utils.formatClassType(utils.parentClassType(parent), type.parentTypeParameters) -%}
{%- set hasParent = parent is not null -%}

import ObjectMapper

/// {{ description }}
{% if (not hasChilds) -%}final {% endif %}class {{ className }}: {{ parentClassName }} {

    {% include 'blocks/class/fields.twig' with { fields: fields } %}
    {% include 'blocks/class/date-transformers.twig' with { fields: fields } %}
    // MARK: - Initializer

    required init(map: Map) throws {
        {%- include 'blocks/class/fields-mapping-from-map.twig' with { fields: fields } -%}
        {% if hasParent %}
        try super.init(map: map)
        {%- endif %}
    }

    {% if hasParent %} override {% endif %}func mapping(map: Map) {
        {%- include 'blocks/class/fields-mapping-to-map.twig' with { fields: fields } -%}
        {% if hasParent %}
        super.mapping(map: map)
        {%- endif %}
    }

}
